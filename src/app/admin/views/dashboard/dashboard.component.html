<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
 <!-- Tabs -->
<div class="mb-4 border-b flex space-x-4">
  <button [ngClass]="{ 'border-b-2 border-primary font-bold': statMode === 'today' }" (click)="setStatMode('today')">Hôm nay</button>
  <button [ngClass]="{ 'border-b-2 border-primary font-bold': statMode === 'month' }" (click)="setStatMode('month')">Tháng này</button>
  <button [ngClass]="{ 'border-b-2 border-primary font-bold': statMode === 'custom' }" (click)="setStatMode('custom')">Tuỳ chọn...</button>
</div>

<!-- Date range picker -->
<div *ngIf="statMode === 'custom'" class="mb-4 flex items-center gap-4">
  <label>Từ:</label>
  <input type="date" [(ngModel)]="fromDate" />
  <label>Đến:</label>
  <input type="date" [(ngModel)]="toDate" />
  <button class="btn btn-sm btn-primary" (click)="loadDashboard()">Xem</button>
</div>
<c-card>
  <c-card-body>
    <h6 class="text-sm text-muted">Total booking</h6>
    <h3 class="text-lg font-semibold mb-3">{{ totalBookings }}</h3>

    <table class="w-full text-sm">
      <tbody>
        <tr>
          <td class="text-muted">✔️ Success</td>
          <td class="text-end font-medium">{{ successCount }}</td>
          <td class="text-muted">Rate <span class="text-success">({{ (successCount / totalBookings * 100) | number: '1.0-0' }}%)</span></td>
        </tr>
        <tr>
          <td class="text-muted">❌ Canceled</td>
          <td class="text-end font-medium">{{ canceledCount }}</td>
        </tr>
      </tbody>
    </table>
  </c-card-body>
</c-card>

<c-card>
    <c-card-body>
      <h6 class="text-sm text-muted">Total user</h6>
      <h3 class="text-lg font-semibold">{{ userCount }}</h3>
    </c-card-body>
  </c-card>
  <c-card>
    <c-card-body>
      <h6 class="text-sm text-muted">Total room active</h6>
      <h3 class="text-lg font-semibold">{{ activeRooms }}</h3>
    </c-card-body>
  </c-card>

  <c-card>
    <c-card-body>
      <h6 class="text-sm text-muted">Total Checkin today</h6>
      <h3 class="text-lg font-semibold">{{ todayCheckins }}</h3>
    </c-card-body>
  </c-card>

  <c-card>
    <c-card-body>
      <h6 class="text-sm text-muted">Total checkout today</h6>
      <h3 class="text-lg font-semibold">{{ todayCheckouts }}</h3>
    </c-card-body>
  </c-card>
</div>

<c-card class="mb-4">
  <c-card-header>Statistic Details</c-card-header>
  <c-card-body>
    <c-chart type="bar" [data]="chartBarData" [options]="options" />
  </c-card-body>
</c-card>
<c-chart type="bar" [data]="topServicesChartData"></c-chart>
<c-chart type="bar" [data]="topRoomsChartData"></c-chart>
<c-chart type="bar" [data]="monthlyBookingsChartData"></c-chart>
<c-chart type="line" [data]="monthlyRevenueChartData"></c-chart>